Question 1

The purpose of MPBOOTPHYS is to translate a linked address to where it is actually loaded. If we check the macro, s - mpentry_start is the code offset and MPENTRY_PADDR (0x7000) is where mpentry.S will be loaded. boot.S does not have this because it is linked at 0x7c00, where it will be loaded. If we don't have this in mpentry.S the code will gdt from a very high address above KERNELBASE and fail.

Question 2
In some preemptive schedulers, the kernel is preemptive. Then the kernel will leave some tasks unfinished and registers pushed on kernel stack. In that case, sharing a kernel stack between different CPU will mess up each other since different CPUs are in different parts of kernel code. They do not always enter kernel through trap().
